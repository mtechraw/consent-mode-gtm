___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "__wm": "VGVtcGFsdGUtQXV0aG9yX0NvbnNlbnRNb2RlLVNpbW8tQWhhdmE\u003d",
  "version": 1,
  "securityGroups": [],
  "displayName": "Google Consent Mode (SON-TAG)",
  "categories": [
    "UTILITY",
    "ANALYTICS",
    "ADVERTISING",
    "AFFILIATE_MARKETING",
    "CONVERSIONS",
    "REMARKETING"
  ],
  "brand": {
    "id": "github.com_gtm-templates-mtechraw",
    "displayName": "gtm-templates-mtechraw",
    "thumbnail": "data:image/png;base64,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"
  },
  "description": "Modify tag behavior according to consent. This template leverages Google\u0027s Consent API to manage the usage of cookies and the processing of ad identifiers by Google\u0027s advertising and analytics tools.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "SELECT",
    "name": "command",
    "displayName": "Consent Command",
    "selectItems": [
      {
        "value": "default",
        "displayValue": "Default"
      },
      {
        "value": "update",
        "displayValue": "Update"
      }
    ],
    "simpleValueType": true,
    "help": "\u003cstrong\u003eDefault\u003c/strong\u003e this implies that you set default consent settings for the site that remain in effect until the Update command is executed. You can have multiple Default tags on the page, each tailored to a different region, for instance.\n\u003cstrong\u003eUpdate\u003c/strong\u003e is what you\u0027d use once you\u0027ve retrieved a consent status from the user.",
    "defaultValue": "default",
    "alwaysInSummary": true
  },
  {
    "type": "TEXT",
    "name": "wait_for_update",
    "displayName": "Wait for Update",
    "simpleValueType": true,
    "valueUnit": "milliseconds",
    "defaultValue": 0,
    "help": "How long to wait (in milliseconds) for an \u003cstrong\u003eUpdate\u003c/strong\u003e command before firing Google tags that have been queued up.",
    "enablingConditions": [
      {
        "paramName": "command",
        "paramValue": "default",
        "type": "EQUALS"
      }
    ],
    "valueValidators": [
      {
        "type": "NON_NEGATIVE_NUMBER"
      }
    ]
  },
  {
    "type": "CHECKBOX",
    "name": "eea",
    "checkboxText": "Include EEA regions",
    "simpleValueType": true,
    "help": "Select this option to ensure the tag is applied exclusively to visitors from the European Economic Area.",
    "defaultValue": false,
    "enablingConditions": [
      {
        "paramName": "command",
        "paramValue": "default",
        "type": "EQUALS"
      },
      {
        "paramName": "command",
        "paramValue": "update",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "regions",
    "displayName": "Regions",
    "simpleValueType": true,
    "defaultValue": "all",
    "help": "Apply this setting to users from these \u003ca href\u003d\"https://en.wikipedia.org/wiki/ISO_3166-2\"\u003eregions\u003c/a\u003e (provide a comma-separated list). If you type \u003cstrong\u003eall\u003c/strong\u003e, the setting will apply to all users. If you type \u003cstrong\u003eeea\u003c/strong\u003e as one of the regions, the tag will automatically encompass all regions within the European Economic Area as geographical targets for this command.",
    "enablingConditions": [
      {
        "paramName": "eea",
        "paramValue": false,
        "type": "EQUALS"
      }
    ],
    "valueValidators": [
      {
        "type": "NON_EMPTY",
        "errorMessage": "Set to \"all\" for all regions or add a comma-separated list of regions."
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "regionsEEA",
    "displayName": "Regions",
    "simpleValueType": true,
    "defaultValue": "eea",
    "help": "Apply this setting to users from these \u003ca href\u003d\"https://en.wikipedia.org/wiki/ISO_3166-2\"\u003eregions\u003c/a\u003e (provide a comma-separated list). If you type \u003cstrong\u003eall\u003c/strong\u003e, the setting will apply to all users. If you type \u003cstrong\u003eeea\u003c/strong\u003e as one of the regions, the tag will automatically include all European Economic Area regions as geographical targets for this command.",
    "enablingConditions": [
      {
        "paramName": "eea",
        "paramValue": true,
        "type": "EQUALS"
      }
    ],
    "valueValidators": [
      {
        "type": "NON_EMPTY",
        "errorMessage": "Set to \"all\" for all regions or add a comma-separated list of regions."
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "settings",
    "displayName": "Consent Settings",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "GROUP",
        "name": "required",
        "displayName": "Required for Google services",
        "groupStyle": "NO_ZIPPY",
        "subParams": [
          {
            "type": "SELECT",
            "name": "ad_storage",
            "displayName": "ad_storage",
            "macrosInSelect": true,
            "selectItems": [
              {
                "value": "granted",
                "displayValue": "granted"
              },
              {
                "value": "denied",
                "displayValue": "denied"
              },
              {
                "value": "notset",
                "displayValue": "Not set"
              }
            ],
            "simpleValueType": true,
            "defaultValue": "denied",
            "help": "If set to \u003cstrong\u003edenied\u003c/strong\u003e, Google\u0027s advertising tags and pixels will be restricted from reading or writing first-party cookies. The use of third-party cookies will be confined solely to spam and fraud detection purposes. \u003ca href\u003d\"https://support.google.com/analytics/answer/9976101#behavior\"\u003eMore information\u003c/a\u003e."
          },
          {
            "type": "SELECT",
            "name": "analytics_storage",
            "displayName": "analytics_storage",
            "macrosInSelect": true,
            "selectItems": [
              {
                "value": "granted",
                "displayValue": "granted"
              },
              {
                "value": "denied",
                "displayValue": "denied"
              },
              {
                "value": "notset",
                "displayValue": "Not set"
              }
            ],
            "simpleValueType": true,
            "defaultValue": "denied",
            "help": "If set to \u003cstrong\u003edenied\u003c/strong\u003e, Google Analytics tags will not read or write analytics cookies, and data collected to Google Analytics will not utilize persistent cookie identifiers (the identifiers are reset with every page load). \u003ca href\u003d\"https://support.google.com/analytics/answer/9976101#behavior\"\u003eMore information\u003c/a\u003e."
          },
          {
            "type": "SELECT",
            "name": "ad_user_data",
            "displayName": "ad_user_data",
            "macrosInSelect": true,
            "selectItems": [
              {
                "value": "granted",
                "displayValue": "granted"
              },
              {
                "value": "denied",
                "displayValue": "denied"
              },
              {
                "value": "notset",
                "displayValue": "Not set"
              }
            ],
            "simpleValueType": true,
            "defaultValue": "denied",
            "help": "If set to \u003cstrong\u003edenied\u003c/strong\u003e, user data cannot be used with Google\u0027s advertising solutions for audience building."
          },
          {
            "type": "SELECT",
            "name": "ad_personalization",
            "displayName": "ad_personalization",
            "macrosInSelect": true,
            "selectItems": [
              {
                "value": "granted",
                "displayValue": "granted"
              },
              {
                "value": "denied",
                "displayValue": "denied"
              },
              {
                "value": "notset",
                "displayValue": "Not set"
              }
            ],
            "simpleValueType": true,
            "defaultValue": "denied",
            "help": "If set to \u003cstrong\u003edenied\u003c/strong\u003e, data collected on this website will not be used for remarketing in Google\u0027s advertising solutions."
          }
        ]
      },
      {
        "type": "GROUP",
        "name": "optional",
        "displayName": "Other signals",
        "groupStyle": "NO_ZIPPY",
        "subParams": [
          {
            "type": "SELECT",
            "name": "personalization_storage",
            "displayName": "personalization_storage",
            "macrosInSelect": true,
            "selectItems": [
              {
                "value": "granted",
                "displayValue": "granted"
              },
              {
                "value": "denied",
                "displayValue": "denied"
              },
              {
                "value": "notset",
                "displayValue": "Not set"
              }
            ],
            "simpleValueType": true,
            "defaultValue": "denied"
          },
          {
            "type": "SELECT",
            "name": "functionality_storage",
            "displayName": "functionality_storage",
            "macrosInSelect": true,
            "selectItems": [
              {
                "value": "granted",
                "displayValue": "granted"
              },
              {
                "value": "denied",
                "displayValue": "denied"
              },
              {
                "value": "notset",
                "displayValue": "Not set"
              }
            ],
            "simpleValueType": true,
            "defaultValue": "denied"
          },
          {
            "type": "SELECT",
            "name": "security_storage",
            "displayName": "security_storage",
            "macrosInSelect": true,
            "selectItems": [
              {
                "value": "granted",
                "displayValue": "granted"
              },
              {
                "value": "denied",
                "displayValue": "denied"
              },
              {
                "value": "notset",
                "displayValue": "Not set"
              }
            ],
            "simpleValueType": true,
            "defaultValue": "denied"
          }
        ]
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "other",
    "displayName": "Other Settings",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "CHECKBOX",
        "name": "url_passthrough",
        "checkboxText": "Pass Ad Click Information Through URLs (url_passthrough)",
        "simpleValueType": true,
        "help": "Check this if you want internal links to pass advertising identifiers (\u003cstrong\u003egclid\u003c/strong\u003e, \u003cstrong\u003edclid\u003c/strong\u003e, \u003cstrong\u003egclsrc\u003c/strong\u003e, \u003cstrong\u003e_gl\u003c/strong\u003e, \u003cstrong\u003ewbraid\u003c/strong\u003e) in the link URL while waiting for consent to be granted. \u003ca href\u003d\"https://developers.google.com/tag-platform/security/guides/consent#passthroughs\"\u003eRead more here\u003c/a\u003e."
      },
      {
        "type": "CHECKBOX",
        "name": "ads_data_redaction",
        "checkboxText": "Redact Ads Data (ads_data_redaction)",
        "simpleValueType": true,
        "help": "If this is checked \u003cstrong\u003eand\u003c/strong\u003e ad_storage consent status is \u003cstrong\u003edenied\u003c/strong\u003e, Google\u0027s advertising tags will drop all advertising identifiers from the requests, and traffic will be routed through cookieless domains."
      },
      {
        "type": "CHECKBOX",
        "name": "sendDataLayer",
        "checkboxText": "Push dataLayer Event",
        "simpleValueType": true,
        "help": "When consent is set to \"default\", a dataLayer event with \u003cstrong\u003eevent: \u0027gtm_consent_default\u0027\u003c/strong\u003e is sent, together with all the consent states. When an \"update\" is fired, a dataLayer event with \u003cstrong\u003eevent: \u0027gtm_consent_update\u0027\u003c/strong\u003e is pushed together with details about the updated consent state."
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const dataLayerPush = require('createQueue')('dataLayer');
const gtagSet = require('gtagSet');
const log = require('logToConsole');
const makeNumber = require('makeNumber');
const makeTableMap = require('makeTableMap');
const setDefaultConsentState = require('setDefaultConsentState');
const updateConsentState = require('updateConsentState');

const eeaRegions = [
  "AT",
  "BE",
  "BG",
  "HR",
  "CY",
  "CZ",
  "DK",
  "EE",
  "FI",
  "FR",
  "DE",
  "GR",
  "HU",
  "IE",
  "IT",
  "LV",
  "LT",
  "LU",
  "MT",
  "NL",
  "PL",
  "PT",
  "RO",
  "SK",
  "SI",
  "ES",
  "SE",
  "NO",
  "IS",
  "LI",
  "AL",
  "AD",
  "AM",
  "BY",
  "BA",
  "FO",
  "GE",
  "GI",
  "IS",
  "IM",
  "XK",
  "LI",
  "MK",
  "MD",
  "MC",
  "ME",
  "CH",
  "TR",
  "UA",
  "VA"
];

const regions = data.regions || data.regionsEEA;
  
// Determine the command and the setting object
const consentApi = data.command === 'default' ? setDefaultConsentState : updateConsentState;

const settingsObject = {};

if (data.ad_storage !== 'notset') settingsObject.ad_storage = data.ad_storage;
if (data.analytics_storage !== 'notset') settingsObject.analytics_storage = data.analytics_storage;
if (data.ad_user_data !== 'notset') settingsObject.ad_user_data = data.ad_user_data;
if (data.ad_personalization !== 'notset') settingsObject.ad_personalization = data.ad_personalization;
if (data.personalization_storage !== 'notset') settingsObject.personalization_storage = data.personalization_storage;
if (data.functionality_storage !== 'notset') settingsObject.functionality_storage = data.functionality_storage;
if (data.security_storage !== 'notset') settingsObject.security_storage = data.security_storage;


// Configurations specific to the "default" command
if (data.command === 'default' && makeNumber(data.wait_for_update) > 0) {
  settingsObject.wait_for_update = makeNumber(data.wait_for_update);
}

if (data.command === 'default' && regions !== 'all') {
  let setRegions = regions.split(',').map(r => r.trim());
  // Verify if the EEA regions are included.
  if (setRegions.indexOf('eea') > -1) {
    setRegions = setRegions.concat(eeaRegions);
    // Remove any duplicates and ensure EEA regions are excluded.
    setRegions = setRegions.filter((val, idx) => setRegions.indexOf(val) === idx && val !== 'eea');
  }
  settingsObject.region = setRegions;
}
  
// Configure advanced settings.
gtagSet({
  url_passthrough: data.url_passthrough || false,
  ads_data_redaction: data.ads_data_redaction || false
});

// Establish the consent state.
consentApi(settingsObject);

// Push to dataLayer if necessary
if (data.sendDataLayer) {
  settingsObject.event = 'gtm_consent_' + data.command;
  dataLayerPush(settingsObject);
}

// Invoke data.gtmOnSuccess once the tag execution is complete.
data.gtmOnSuccess();


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "dataLayer"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_consent",
        "versionId": "1"
      },
      "param": [
        {
          "key": "consentTypes",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_storage"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "analytics_storage"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "personalization_storage"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "functionality_storage"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "security_storage"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_user_data"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_personalization"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "write_data_layer",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keyPatterns",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "url_passthrough"
              },
              {
                "type": 1,
                "string": "ads_data_redaction"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios:
- name: default settings sent
  code: |-
    // Call runCode to run the template's code.
    runCode(mockData);

    // Verify that the tag finished successfully.
    assertApi('setDefaultConsentState').wasCalledWith({
      analytics_storage: 'denied',
      ad_user_data: 'granted',
      ad_personalization: 'denied',
      personalization_storage: 'denied',
      functionality_storage: 'denied',
      security_storage: 'denied',
      region: ['US-CA'],
      wait_for_update: 500
    });

    assertApi('gtmOnSuccess').wasCalled();
- name: updated settings sent
  code: |-
    mockData.command = 'update';

    // Call runCode to run the template's code.
    runCode(mockData);

    // Verify that the tag finished successfully.
    assertApi('updateConsentState').wasCalledWith({
      analytics_storage: 'denied',
      ad_user_data: 'granted',
      ad_personalization: 'denied',
      personalization_storage: 'denied',
      functionality_storage: 'denied',
      security_storage: 'denied'
    });
    assertApi('gtmOnSuccess').wasCalled();
- name: extra settings sent
  code: |-
    mock('gtagSet', (obj) => {
      assertThat(obj.url_passthrough).isEqualTo(true);
      assertThat(obj.ads_data_redaction).isEqualTo(true);
    });
    // Call runCode to run the template's code.
    runCode(mockData);

    // Verify that the tag finished successfully.
    assertApi('gtmOnSuccess').wasCalled();
- name: dataLayer events generated
  code: "mockData.sendDataLayer = true;\n\nlet dlCalled = false;\n\nmock('createQueue',\
    \ name => {\n  return o => {\n    if (o.event === 'gtm_consent_default' && \n\
    \        o.analytics_storage === 'denied' && \n        o.ad_user_data === 'granted'\
    \ &&\n        o.ad_personalization === 'denied' &&\n        o.personalization_storage\
    \ === 'denied' &&\n        o.functionality_storage === 'denied' &&\n        o.security_storage\
    \ === 'denied' &&\n        o.region[0] === 'US-CA') dlCalled = true;\n    \n \
    \ };\n});\n    \n// Call runCode to run the template's code.\nrunCode(mockData);\n\
    \n// Verify that the tag finished successfully.\nassertApi('gtmOnSuccess').wasCalled();\n\
    assertThat(dlCalled, 'dataLayer not called with correct arguments').isEqualTo(true);"
setup: |-
  const mockData = {
    command: 'default',
    ad_storage: 'notset',
    analytics_storage: 'denied',
    ad_user_data: 'granted',
    ad_personalization: 'denied',
    personalization_storage: 'denied',
    functionality_storage: 'denied',
    security_storage: 'denied',
    wait_for_update: 500,
    regions: 'US-CA',
    url_passthrough: true,
    ads_data_redaction: true,
    sendDataLayer: false,
  };


___NOTES___

Created on 04/06/2024, 09:00:35


